
# ---------------------------------------------------------------------------------------------
# MIT License
# Copyright (c) 2020, Solace Corporation, Ricardo Gomez-Ulmke (ricardo.gomez-ulmke@solace.com)
# ---------------------------------------------------------------------------------------------

---
- name: "Test Spec Run Controller"
  hosts: localhost
  gather_facts: no
  pre_tasks:
    - include_vars: "{{TEST_SPEC}}"

  tasks:

    - name: "Check Env Vars"
      debug:
        msg:
          - "RUN_LOG_DIR={{RUN_LOG_DIR}}"
          
    - name: "Iterate over runs"
      include_tasks: ./tasks/run.controller.yml
      loop: "{{ test_spec.runs }}"
      loop_control:
        index_var: run_num
        loop_var: run


###
# The End.
